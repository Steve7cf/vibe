/* ═══════════════════════════════════════════════
   Vibe — Animations
   ═══════════════════════════════════════════════ */

@keyframes spin {
  to { transform: rotate(360deg); }
}

@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes modal-in {
  from { opacity: 0; transform: scale(0.92) translateY(20px); }
  to { opacity: 1; transform: scale(1) translateY(0); }
}

@keyframes toast-in {
  from { opacity: 0; transform: translateX(20px) scale(0.95); }
  to { opacity: 1; transform: translateX(0) scale(1); }
}

@keyframes toast-out {
  from { opacity: 1; transform: translateX(0) scale(1); }
  to { opacity: 0; transform: translateX(20px) scale(0.95); }
}

@keyframes pulse-border {
  0%, 100% { border-color: var(--accent); box-shadow: 0 0 30px var(--accent-glow); }
  50% { border-color: var(--accent-hover); box-shadow: 0 0 60px rgba(29,185,84,0.4); }
}

@keyframes now-playing-pulse {
  0%, 100% { transform: scaleY(1); }
  50% { transform: scaleY(0.4); }
}

/* Nowplaying bars indicator */
.now-playing-indicator {
  display: flex;
  align-items: flex-end;
  gap: 2px;
  height: 14px;
}

.now-playing-bar {
  width: 3px;
  background: var(--accent);
  border-radius: 2px;
  animation: now-playing-pulse 0.8s ease infinite;
}

.now-playing-bar:nth-child(2) { animation-delay: 0.2s; height: 100%; }
.now-playing-bar:nth-child(1) { animation-delay: 0s; height: 60%; }
.now-playing-bar:nth-child(3) { animation-delay: 0.4s; height: 80%; }

.now-playing-indicator.paused .now-playing-bar {
  animation-play-state: paused;
}

/* Track row enter animation */
.track-row {
  animation: fade-slide-in 0.2s ease both;
}

@keyframes fade-slide-in {
  from { opacity: 0; transform: translateX(-8px); }
  to { opacity: 1; transform: translateX(0); }
}

/* Grid card enter */
.grid-card {
  animation: grid-card-in 0.3s ease both;
}

@keyframes grid-card-in {
  from { opacity: 0; transform: scale(0.93); }
  to { opacity: 1; transform: scale(1); }
}

/* Artwork spin when playing */
#hero-artwork.playing img {
  animation: artwork-spin 20s linear infinite;
}

@keyframes artwork-spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* Volume change ripple on mute btn */
@keyframes vol-ripple {
  from { box-shadow: 0 0 0 0 rgba(29,185,84,0.4); }
  to { box-shadow: 0 0 0 12px rgba(29,185,84,0); }
}

.vol-ripple { animation: vol-ripple 0.4s ease; }

/* Sidebar active indicator */
.nav-btn.active {
  position: relative;
}
.nav-btn.active::before {
  content: '';
  position: absolute;
  left: 0; top: 50%;
  transform: translateY(-50%);
  width: 3px; height: 20px;
  background: var(--accent);
  border-radius: 0 var(--radius-full) var(--radius-full) 0;
}

/* Seek/Volume drag active state */
.dragging {
  cursor: grabbing !important;
}

/* Scan progress bar */
#scan-progress {
  height: 3px;
  background: var(--surface-3);
  border-radius: var(--radius-full);
  overflow: hidden;
  margin-top: 8px;
}

#scan-progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--accent), var(--accent-hover));
  border-radius: var(--radius-full);
  transition: width 0.3s ease;
  animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
  0% { filter: brightness(1); }
  50% { filter: brightness(1.3); }
  100% { filter: brightness(1); }
}

/* Hover shimmer on cards */
.grid-card::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, transparent 40%, rgba(255,255,255,0.03) 50%, transparent 60%);
  opacity: 0;
  transition: opacity var(--transition-base);
}
.grid-card:hover::after { opacity: 1; }
.grid-card { position: relative; }
